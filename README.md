# 6K音游模拟器

[![GitHub](https://img.shields.io/badge/GitHub-Rukkhadevata123-black?style=flat-square&logo=github)](https://github.com/Rukkhadevata123/piano-typing-game-dev)
[![License](https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](LICENSE)
[![Vite](https://img.shields.io/badge/Vite-v6.1.0-646CFF?style=flat-square&logo=vite)](https://vitejs.dev)
[![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-yellow?style=flat-square&logo=javascript)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)

## ⛏️ 项目简介

6K音游模拟器是一个基于现代Web技术的音乐游戏模拟器，专注于提升用户的键盘操作速度和准确性。游戏采用六列布局，对应键盘上的 A、S、D 和 J、K、L 键，玩家需要及时按下对应按键来消除下落的方块，获取高分。

## 📌 技术栈

- **[Vite](https://vitejs.dev/)** - 现代前端构建工具
- **JavaScript (ES6+)** - 面向对象模块化架构
- **HTML5 + CSS3** - 响应式设计与现代样式
- **LocalStorage** - 数据持久化存储
- **Web Audio API** - 音效播放系统
- **模块化架构** - 清晰的代码组织结构

## ✨ 特性

- 🎯 **实时统计系统**
  - 分数实时计算与显示
  - 准确率动态监测
  - CPS（每秒点击次数）统计
  - 连击数追踪与里程碑奖励
  
- 📊 **多样化游戏模式**
  - 整行模式：一次性消除整行方块
  - 单块模式：逐个消除方块
  - 专注模式：高强度挑战训练
  
- 🏆 **完整等级分系统**
  - 十级段位晋升机制（青铜→钻石）
  - 智能综合评分算法
  - 历史最佳记录追踪（前10名）
  - 时间加权与衰减计算
  - CSV格式记录导出功能
  
- 🎨 **丰富主题系统**
  - 多种精美颜色主题
  - 彩虹主题动态特效
  - 一键快速切换
  
- ⏱️ **灵活时间配置**
  - 多种时长选择（60秒-300秒）
  - 实时游戏进度显示
  - 自定义游戏节奏
  
- 📱 **全平台适配**
  - 响应式布局设计
  - 移动端触摸支持
  - 自适应界面缩放
  
- 💾 **智能数据管理**
  - 游戏历史自动保存
  - 用户偏好设置记忆
  - 最高分与成就追踪
  
- 🧮 **先进计分算法**
  - 非线性连击倍率系统
  - 智能里程碑奖励机制
  - 动态难度惩罚算法
  
- 🔥 **专注模式挑战**
  - 超时与失误双重限制
  - 20%等级分加成奖励
  - 专业训练反应速度

## 🎮 游戏操作指南

### 基础操作

- **游戏键位**：
  - 左手操作区： A、S、D
  - 右手操作区： J、K、L
  
### 快捷键操作

- **`R`** - 切换游戏模式（整行/单块）
- **`Q`** - 切换游戏时长（60-300秒）
- **`T`** - 切换视觉主题
- **`F`** - 开启/关闭专注模式
- **`空格`** - 重新开始游戏

### 游戏机制

- **智能难度**：动态调整方块生成频率
- **实时反馈**：即时显示得分与统计
- **渐进挑战**：难度随游戏进程递增

## 📊 高级计分系统

### 基础得分机制

- **命中奖励**：+10分
- **失误惩罚**：-5分
- **动态平衡**：鼓励准确性与速度并重

### 连击倍率系统

- **非线性增长**：连击越高，倍率增益越显著
- **阶段性提升**：
  - 25连击：约1.8倍
  - 100连击：约2.6倍
  - 500连击：约3.2倍
  - 1000连击：约3.4倍

### 里程碑奖励机制

- **触发条件**：特定连击数（25, 42, 50, 69, 75, 100, 150...）
- **奖励计算**：指数增长公式，最高单次800分
- **视觉反馈**：炫酷动画提示重要成就

### 智能惩罚系统

- **分段惩罚**：根据连击数合理扣分
- **上限保护**：避免过度打击玩家积极性
- **策略平衡**：鼓励稳定发挥而非盲目冒进

### 综合加成因子

- **准确率影响**：高准确率获得额外加成
- **速度奖励**：CPS越高，得分倍率越大
- **时间压力**：游戏后期倍率逐渐提升

## 🏆 等级分与段位系统

### 十级段位体系

| 段位等级 | 等级分范围 | 段位颜色 | 解锁特效 |
|---------|-----------|----------|----------|
| 钻石等级 | 15000+ | 炫彩渐变 | 闪耀动画 |
| 黑曜石等级 | 13750-15000 | 深黑色 | 神秘光晕 |
| 珍珠等级 | 12500-13750 | 珍珠白 | 温润光泽 |
| 紫水晶等级 | 11250-12500 | 紫水晶 | - |
| 绿宝石等级 | 10000-11250 | 翠绿色 | - |
| 红宝石等级 | 8750-10000 | 宝石红 | - |
| 蓝宝石等级 | 7500-8750 | 蓝宝石 | - |
| 黄金等级 | 6250-7500 | 金黄色 | - |
| 白银等级 | 5000-6250 | 银白色 | - |
| 青铜等级 | 0-5000 | 古铜色 | - |

### 评分算法特性

- **多维度评估**：综合得分、时长、准确率、CPS
- **时间权重**：长时间游戏获得更高评分权重
- **记录衰减**：保持评分系统的时效性和公平性
- **智能平衡**：避免单一策略刷分

### 历史记录系统

- **最佳记录**：保留个人前10名游戏记录
- **详细统计**：完整的游戏数据回顾
- **数据导出**：支持CSV格式，便于数据分析
- **专注标记**：专注模式游戏特殊标识

## 🔥 专注模式详解

### 开启方式

- 按 **`F`** 键切换开启/关闭
- 激活后游戏标题变红，提醒玩家进入高强度状态

### 严格规则

- **操作超时**：1秒内无操作自动结束游戏
- **失误限制**：连续失误2次立即结束游戏
- **无提示界面**：保持界面简洁，考验真实反应

### 奖励机制

- **等级分加成**：成功完成获得20%等级分奖励
- **记录标识**：专注模式完成的游戏特殊标记
- **技能提升**：显著提高反应速度和专注力

### 训练价值

- 培养快速决策能力
- 提升注意力集中度
- 为高级玩家提供极限挑战

## 📱 移动端优化

### 使用建议

- **横屏体验**：横屏使用获得最佳游戏体验
- **设备推荐**：平板等大屏设备效果更佳
- **触摸优化**：专门优化的触摸响应机制

### 自适应特性

- 自动检测设备方向
- 智能调整界面布局
- 竖屏状态显示横屏提示

## 📦 项目架构

```plaintext
piano-typing-game-dev/
├── public/                     # 静态资源目录
│   ├── audio/                 # 游戏音效文件
│   ├── background/            # 背景图片资源
│   └── icons/                 # 应用图标文件
├── src/                       # 源代码目录
│   ├── js/                   # JavaScript模块
│   │   ├── Game/             # 游戏核心逻辑
│   │   │   ├── GameController.js    # 游戏控制器
│   │   │   ├── GameEngine.js        # 游戏引擎
│   │   │   ├── GameRenderer.js      # 渲染管理器
│   │   │   └── views/              # 视图组件
│   │   ├── core/             # 核心功能模块
│   │   │   ├── score/        # 高级计分系统
│   │   │   ├── rating/       # 等级分系统
│   │   │   ├── stats/        # 统计数据管理
│   │   │   ├── board.js      # 游戏板逻辑
│   │   │   ├── difficulty.js # 难度控制
│   │   │   └── modes.js      # 游戏模式
│   │   ├── handlers/         # 事件处理器
│   │   │   ├── keyboardHandler.js  # 键盘事件
│   │   │   └── touchHandler.js     # 触摸事件
│   │   ├── utils/            # 工具函数库
│   │   │   ├── background.js  # 背景管理
│   │   │   ├── timeFormat.js  # 时间格式化
│   │   │   └── safeStorage.js # 安全存储
│   │   ├── config/           # 配置文件
│   │   │   ├── gameConfig.js  # 游戏核心配置
│   │   │   ├── keyMap.js      # 键位映射
│   │   │   └── themeConfig.js # 主题配置
│   │   └── main.js           # 应用入口
│   ├── css/                  # 样式文件
│   │   ├── components/       # 组件样式
│   │   │   ├── board.css     # 游戏板样式
│   │   │   ├── buttons.css   # 按钮样式
│   │   │   ├── rating.css    # 等级分样式
│   │   │   ├── score.css     # 分数显示
│   │   │   └── notifications.css # 通知样式
│   │   ├── layout/           # 布局样式
│   │   │   ├── base.css      # 基础布局
│   │   │   └── responsive.css # 响应式布局
│   │   ├── utils/            # 样式工具
│   │   │   ├── variables.css # CSS变量
│   │   │   └── animations.css # 动画效果
│   │   └── style.css         # 样式入口
├── dist/                      # 构建输出目录
├── index.html                # HTML入口文件
├── vite.config.js            # Vite配置
├── package.json              # 项目配置
└── README.md                 # 项目说明
```

## 🚀 快速开始

### 在线体验

🌐 **立即游玩**：[6K音游模拟器](https://yoimiyalove.top/piano-typing-game/)

### 本地开发

```bash
# 1. 克隆项目仓库
git clone https://github.com/Rukkhadevata123/piano-typing-game-dev.git
cd piano-typing-game-dev

# 2. 安装项目依赖
npm install

# 3. 启动开发服务器
npm run dev

# 4. 构建生产版本
npm run build

# 5. 预览构建结果
npm run preview

# 6. 代码质量检查
npm run lint
npm run lint:fix

# 7. 代码格式化
npm run format
```

### 部署说明

#### 静态部署

```bash
# 构建项目
npm run build

# 将 dist/ 目录部署到你的Web服务器
# 支持 GitHub Pages、Vercel、Netlify 等平台
```

#### PWA 支持

- 项目支持 PWA 特性
- 可添加到主屏幕
- 离线缓存功能

## � 未来发展规划

### 近期计划 (v1.6)

- [ ] **自定义键位映射** - 支持个性化按键设置
- [ ] **完整设置界面** - 可视化配置管理
- [ ] **成就系统** - 解锁各种游戏成就
- [ ] **更多主题** - 增加季节主题和节日主题

### 中期目标 (v2.0)

- [ ] **在线排行榜** - 全球玩家竞技
- [ ] **多人对战模式** - 实时PK系统
- [ ] **音乐节拍模式** - 跟随音乐节拍游戏
- [ ] **关卡挑战系统** - 预设挑战关卡

### 长期愿景 (v3.0)

- [ ] **Tauri桌面应用** - 轻量级跨平台客户端
- [ ] **移动端APP** - 原生移动应用
- [ ] **云同步功能** - 跨设备数据同步
- [ ] **国际化支持** - 多语言界面

## 🏗️ 技术特色

### 现代化架构

- **模块化设计**：清晰的代码组织，便于维护和扩展
- **事件驱动**：松耦合的组件通信机制
- **响应式编程**：实时数据更新与界面同步

### 性能优化

- **虚拟DOM思想**：高效的界面更新机制
- **节流防抖**：优化高频事件处理
- **资源懒加载**：按需加载音效和图片资源

### 用户体验

- **流畅动画**：60FPS流畅游戏体验
- **即时反馈**：实时分数和统计显示
- **无障碍支持**：键盘导航和屏幕阅读器支持

## 🐛 已知问题与限制

### 浏览器兼容性

- 推荐使用 Chrome 120+ / Firefox 120+
- 部分旧版浏览器可能存在音效播放问题

### 移动端限制

- 小屏幕设备体验有限
- iOS Safari 可能存在音效延迟

### 性能考虑

- 长时间游戏可能导致内存占用增加
- 建议定期刷新页面以获得最佳性能

## 🤝 参与贡献

我们欢迎各种形式的贡献！

### 贡献方式

1. **🐛 报告Bug**：提交详细的问题描述
2. **💡 功能建议**：分享你的创意想法
3. **📝 代码贡献**：提交代码改进
4. **📖 文档改进**：完善项目文档
5. **🎨 UI/UX设计**：提供设计建议

### 贡献流程

```bash
# 1. Fork 项目到你的账户
# 2. 创建功能分支
git checkout -b feature/amazing-feature

# 3. 提交你的改动
git commit -m 'feat: add amazing feature'

# 4. 推送分支
git push origin feature/amazing-feature

# 5. 创建 Pull Request
```

### 代码规范

- 遵循 ESLint 配置规范
- 使用 Prettier 格式化代码
- 编写清晰的提交信息
- 添加必要的测试用例

## � 开源协议

本项目采用 [MIT License](LICENSE) 开源协议

**你可以自由地：**

- ✅ 商业使用
- ✅ 修改代码
- ✅ 分发软件
- ✅ 私人使用

**唯一要求：**

- 📋 保留版权声明

## 🙏 致谢名单

### 技术支持

- **Claude 3.7 Sonnet** - AI编程助手，提供核心代码支持
- **[Vite](https://vitejs.dev/)** - 现代化构建工具
- **[arcxingye/EatKano](https://github.com/arcxingye/EatKano)** - 音效资源提供

### 社区贡献

- 所有提供反馈和建议的用户
- 参与测试的早期玩家
- 开源社区的支持与帮助

### 特别感谢

- 音游爱好者社区的灵感启发
- 现代Web技术生态的发展
- 开源精神的传播与实践

---

<div align="center">

**🎹 立即体验 6K 音游模拟器，挑战你的反应极限！**

[🚀 开始游戏](https://yoimiyalove.top/piano-typing-game/) | [⭐ Star项目](https://github.com/Rukkhadevata123/piano-typing-game-dev) | [🐛 反馈问题](https://github.com/Rukkhadevata123/piano-typing-game-dev/issues)

*注：项目持续更新中，欢迎提供宝贵意见！*

</div>
